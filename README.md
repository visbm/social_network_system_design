# social_network_system_design


# Функциональные требования

- публикация постов из путешествий с фотографиями, небольшим описанием и привязкой к конкретному месту путешествия;
- оценка и комментарии постов других путешественников;
- подписка на других путешественников, чтобы следить за их активностью;
- поиск популярных мест для путешествий и просмотр постов с этих мест;
- просмотр ленты других путешественников и ленты пользователя, основанной на подписках в обратном хронологическом порядке;

# Не функциональные требования

- ограничения:
  - максимум 10 фото в посте;
  - среднее кол-во фото 6 в посте;
  - максимальный вес фото 20 Мб;
  - средний вес фото при создании поста 1,6 Мб;
  - средний вес фото при получении поста 0,4 Мб;
  - описание максимум 100 символов;
  - комментарии максимум 250 символов;
  - максимум подписчиков 1 000 000;
  - максимум комментарий 10 000;
  - среднее кол-во комментарий к посту 500;

- география и аудитория:
  - DAU 10 000 000;
  - только СНГ;
  - нет сезонности;

- доступность и надежность:
  - доступность 99,95%;
  - данные храним всегда;
  - фото храним и отдаем в сжатом виде и до fullHD;

- платформы:
  - мобильные устройства и ВЕБ;

- пользовательская активность:
  - пользователь создает 3 поста в день;
  - пользователь смотрит посты по 10 раз в день;
  - средняя длина ленты 20 постов;
  - ленту грузим без комментарий;
  - пользователь в среднем оставляет 10 комментария в день;
  - пользователь в среднем читает комментарии к 10 постам в день по 100 комментарий;
  - лайк-дизлайк на пост;
  - поиск мест по тегу и имени города/страны;
  - пользователь в среднем ищет места 1 раз в день и получает ленту на 20 постов;

- время отклика:
  - время запроса на создание поста до 3 секунд;
  - время запроса на чтение ленты до 1 секунд;
  - поиск популярных мест до 5 секунд;


# Нагрузка

- RPS(write common) = 10 000 000 / 86400 * 3 = 350
- RPS(read common) = 10 000 000 /86400 * 10 = 1200

- RPS(write comment) = 10 000 000 / 86400 * 10 = 1200
- RPS(read comment) = 10 000 000 / 86400 * 10 = 1200

- RPS(read places) = 10 000 000 / 86400 = 120

- traffic(write common) =rps * ((avgPhoto + avgUploadPhotoSz) + descSize) =  350 * ((6 * 1 600 000) + 200) = 3 360 070 000 bytes/s = 3.36 gb/s
- traffic(read common) =rps * ((avgPhoto + avgDownloadPhotoSz) + descSize) * avgPostAmount * watchesPerDay  =  1200 * (((6 * 400 000) + 200) * 20) * 10 = 576 048 000 000 bytes/s = 576 gb/s

- traffic(write comment) =rps *  commentSize =  1200 * 500 = 600 000 bytes/s = 600 kb/s
- traffic(read comment) =rps *  commentSize * commentsAmountPerPost  =  1200 * 500 * 100 = 60 000 000 bytes/s = 60 mb/s

- traffic(read places) =rps *  (avgPhoto + avgDownloadPhotoSz) + descSize) * avgPostAmount  =  120 * ((6 * 400 000) + 200) * 20 = 5 760 480 000 bytes/s = 5 gb/s
